summon FallingSand ~ ~1 ~ {Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:fill ~ ~ ~ ~ ~16 ~ air,auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:summon FallingSand ~ ~1 ~ {Block:command_block,Data:1,Time:1,DropItem:0,TileEntityData:{Command:testforblock -1922 12 -128 quartz_block 0},Passengers:[{id:FallingSand,Block:chain_command_block,Data:1,Time:1,DropItem:0,TileEntityData:{Command:testforblock -1922 11 -128 quartz_block 0,auto:1},Passengers:[{id:FallingSand,Block:chain_command_block,Data:1,Time:1,DropItem:0,TileEntityData:{Command:testforblock -1922 10 -128 quartz_block 0,auto:1},Passengers:[{id:FallingSand,Block:chain_command_block,Data:1,Time:1,DropItem:0,TileEntityData:{Command:testforblock -1922 9 -128 quartz_block 0,auto:1},Passengers:[{id:FallingSand,Block:chain_command_block,Data:1,Time:1,DropItem:0,TileEntityData:{Command:testforblock -1922 8 -128 quartz_block 0,auto:1},Passengers:[{id:FallingSand,Block:chain_command_block,Data:1,Time:1,DropItem:0,TileEntityData:{Command:testforblock -1922 12 -192 quartz_block 0,auto:1},Passengers:[{id:FallingSand,Block:chain_command_block,Data:1,Time:1,DropItem:0,TileEntityData:{Command:testforblock -1922 8 -191 quartz_block 0,auto:1},Passengers:[{id:FallingSand,Block:chain_command_block,Data:1,Time:1,DropItem:0,TileEntityData:{Command:testforblock -1922 9 -192 quartz_block 0,auto:1},Passengers:[{id:FallingSand,Block:chain_command_block,Data:1,Time:1,DropItem:0,TileEntityData:{Command:testforblock -1922 8 -192 quartz_block 0,auto:1},Passengers:[{id:FallingSand,Block:chain_command_block,Data:9,Time:1,DropItem:0,TileEntityData:{Command:summon FallingSand ~ ~-10 ~ {Block:chain_command_block,Time:1,DropItem:0,TileEntityData:{Command:setblock ~ ~1 ~ air,auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:setblock ~ ~-2 ~ command_block 0 replace {Command:tellraw @a {"text":"パッチのアンインストールに成功しました。\nIDを登録した人のタグ：ExpEntityを全員削除するようにお願いします。","color":"green"}},auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:/clone -1888 8 -192 -1887 8 -192 -1890 8 -192 replace move,auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:summon FallingSand ~ ~1 ~ {Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:/clone -1905 9 -192 -1902 9 -192 -1909 9 -192 replace move,auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:/clone -1881 12 -192 -1880 12 -192 -1883 12 -192 replace move,auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:/blockdata -1918 8 -191 {Command:/execute @a[score_GotExpFlag_min=1] ~ ~ ~ /scoreboard players operation @a[c=1] ExpMessageFlag = @a[r=50,score_HP_min=1,score_Level_min=1,c=1] Level},auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:/blockdata -1917 8 -191 {Command:/execute @a[score_GotExpFlag_min=1,score_ExpMessageFlag_min=1] ~ ~ ~ /scoreboard players operation @a[r=50,score_HP_min=1,score_Level_min=1] ExpToLevel -= @a[c=1] GotExpFlag},auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:/blockdata -1916 8 -191 {Command:/execute @a[score_GotExpFlag_min=1,score_ExpMessageFlag_min=1] ~ ~ ~ /tellraw @a {"translate":"%1$sは%2$sEXPの経験値を得た。","color":"yellow","with":[{"selector":"@a[r=50,score_HP_min=1,score_Level_min=1]"},{"score":{"name":"@a[c=1]","objective":"GotExpFlag"},"color":"white","bold":"true"}]}},auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:/blockdata -1915 8 -191 {Command:/scoreboard players reset @a[score_ExpMessageFlag_min=1] ExpMessageFlag},auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:summon FallingSand ~ ~1 ~ {Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:/blockdata -1914 8 -191 {Command:/execute @a[score_GotExpFlag_min=1] ~ ~ ~ /scoreboard players operation @a[c=1] ExpMessageFlag = @a[rm=50,score_HP_min=1,score_Level_min=1,c=1] Level},auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:/blockdata -1913 8 -191 {Command:/execute @a[score_GotExpFlag_min=1,score_ExpMessageFlag_min=1] ~ ~ ~ /tellraw @a {"translate":"%1$sは離れ過ぎていたため、経験値を得られなかった。","color":"red","with":[{"selector":"@a[rm=50,score_HP_min=1,score_Level_min=1]"}]}},auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:/setblock -1912 8 -191 chain_command_block 5 replace {auto:1b,Command:/execute @a[score_GotExpFlag_min=1] ~ ~ ~ /execute @a[r=50,score_HP_min=1,score_Level_min=1] ~ ~ ~ /playsound entity.player.levelup master @a[c=1] ~ ~ ~ 0.3 2},auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:/setblock -1911 8 -191 chain_command_block 5 replace {auto:1b,Command:/scoreboard players reset @a[score_ExpMessageFlag_min=1] ExpMessageFlag},auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:/fill -1920 8 -128 -1908 12 -128 air,auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:/kill @e[tag=ExpEntity,type=ArmorStand],auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:summon FallingSand ~ ~1 ~ {Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:/scoreboard objectives remove ExpID,auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:/scoreboard objectives remove GotExp,auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:/scoreboard objectives remove ExpSystemFlag,auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:/scoreboard objectives remove ArmorLevel,auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:/scoreboard objectives remove ArmorNextExp,auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:/scoreboard objectives remove ArmorExpToLevel,auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:summon FallingSand ~ ~1 ~ {Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:/scoreboard players tag @a[tag=ExpEntity] remove ExpEntity,auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:setblock -1922 12 -128 minecraft:air 0,auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:setblock -1922 11 -128 minecraft:air 0,auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:setblock -1922 10 -128 minecraft:air 0,auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:setblock -1922 9 -128 minecraft:air 0,auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:setblock -1922 8 -128 minecraft:air 0,auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:summon FallingSand ~ ~1 ~ {Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:setblock -1922 12 -192 minecraft:air 0,auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:setblock -1922 8 -191 minecraft:air 0,auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:setblock -1922 9 -192 minecraft:air 0,auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:setblock -1922 8 -192 minecraft:air 0,auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:blockdata ~ ~-2 ~ {auto:1},auto:1},Passengers:[{id:FallingSand,Block:command_block,Time:1,DropItem:0,TileEntityData:{Command:fill ~ ~ ~ ~ ~-2 ~ air,auto:1}}]}]}]}]}]},auto:1}}]}]}]}]}]}]},auto:1}}]}]}]}]}]}]},auto:1}}]}]}]}]}]}]},auto:1}}]}]}]}]}]}]},auto:1}}]}]}]},auto:1},Passengers:[{id:FallingSand,Block:chain_command_block,Data:9,Time:1,DropItem:0,TileEntityData:{Command:fill ~ ~3 ~ ~ ~-11 ~ air,auto:1},Passengers:[{id:FallingSand,Block:chain_command_block,Data:1,Time:1,DropItem:0,TileEntityData:{Command:tellraw @a {"text":"パッチのアンインストールに失敗しました。\nすでにこのパッチはアンインストール済みの可能性があるか、\n別のパッチが導入されている可能性があります！","color":"red"},auto:1},Passengers:[{id:FallingSand,Block:chain_command_block,Data:1,Time:1,DropItem:0,TileEntityData:{Command:fill ~ ~1 ~ ~ ~-14 ~ air,auto:1},Passengers:[{id:FallingSand,Block:command_block,Data:1,Time:1,DropItem:0,TileEntityData:{Command:blockdata ~ ~-13 ~ {auto:1},auto:1}}]}]}]}]}]}]}]}]}]}]}]}]}]},auto:1}}]}