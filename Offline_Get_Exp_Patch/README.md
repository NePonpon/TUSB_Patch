# Offline_Exp_Get_Patch
経験値の取得範囲を全体化する。また、オフライン時でも経験値を取得することが出来るパッチです。  
全ての経験値を記録し、オンラインのプレイヤーに記録された経験値を与えることでオフラインでも経験値を取得することを実装しています。

## 導入時の注意
経験値記録用アマスタとIDの登録が完了したらメッセージが出ます。  
__登録をしないと一切経験値を得ることが出来ないので気を付けてください。__

## 実装されている要素
- プレイヤーがオフライン時に取得された経験値を記録しておくことで、再度オンラインになったときに記録されている経験値を取得することが出来る。  
- 経験値を取得できる範囲が無制限になり、どこにいても全員が経験値を取得することが出来る。
- 登録IDを表示する。
- 記録されている経験値を取得するとLv50になるとき、「<該当プレイヤーの登録ID>のプレイヤーのレベルが50になったようだ！」と表示される。これは、オンライン時にLv50になったときも表示される。

### 登録IDとは
経験値記録用アマスタとIDの登録が完了したらメッセージが出ますが、そのときにIDも表示されます。誰がどのIDなのかをメモしておくことで、Lv50になったときのメッセージで役に立ちます。

## アンインストール及びその後の対処法
現在まれに、ワールドに入るとスキル設定のログが流れ続けるというバグが確認されています。そのバグはver1.2ぐらいから確認されており、今でも完全につぶしきれていません。なので、そのバグが発生した場合やシステム自体を必要としなくなったときはアンインストールパッチを使用してください。  
その後、パッチを再導入するときは少し特殊な手順を踏むことになります。通常通りに導入してワールドに入り直しても登録メッセージが出ない人が出てくると思います。  
そのときは、アンインストール前のときの登録タグを削除しなければなりません。  
> /scoreboard players tag @a remove ExpEntity

上記のコマンドをサーバーに参加していた人が全員集まったときに、実行してください。その後、ワールドに入り直すと登録が完了します。  
もし全員集まれない場合は、以下のコマンドを設定したコマンドブロックをクラウディア初期スポーン地点に設置しておき、ボタンを置いておくことでいつでも登録タグを削除できるようになります。
> /scoreboard players tag @p remove ExpEntity

## 開発協力者とお礼
提案 [HikaruTsu](https://twitter.com/TsuHikaru)  
コマンド原案 [mkm75](https://twitter.com/crafter1415)  
**ありがとうございます！**

## その他の技術的要素
その他の技術的要素はWikiにでもまとめておきます。~~使ってみたいし()~~

## バグ報告・質問先
Twitter : [nepon13](https://twitter.com/nepon13)  
Discord : Ponpon#5326

By Ponpon - v1.5.0
